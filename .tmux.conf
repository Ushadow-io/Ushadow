# Global tmux configuration

# Enable mouse support (scroll, select, resize panes)
set -g mouse on

# Increase scrollback buffer
set -g history-limit 50000

# Don't rename windows automatically
set -g allow-rename off

# Start window numbering at 1
set -g base-index 1

# Enable 256 colors
set -g default-terminal "screen-256color"

# Faster command sequences
set -s escape-time 0

# Status bar styling
set -g status-style bg=default,fg=white
set -g status-left-length 40
set -g status-right "#[fg=yellow]#S #[fg=white]%H:%M"

# Pane border colors
set -g pane-border-style fg=colour238
set -g pane-active-border-style fg=colour39

# Fix mouse scrolling in terminal applications
set -g terminal-overrides 'xterm*:smcup@:rmcup@'

# macOS clipboard integration
# Mouse drag to select text in copy mode automatically copies to system clipboard
set -g set-clipboard on
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"

# Paste with prefix+p from tmux buffer, or just use Cmd+V in iTerm
bind-key p run "pbpaste | tmux load-buffer - && tmux paste-buffer"

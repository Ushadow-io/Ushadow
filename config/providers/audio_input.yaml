# Audio Input Providers (Audio Sources)
# Implements the 'audio_input' capability defined in capabilities.yaml
#
# Audio inputs are SOURCES of audio (mobile app, Omi device, desktop mic, etc.)
# They PROVIDE audio that gets streamed TO audio consumers (Chronicle, Mycelia)

capability: audio_input

providers:
  # ==========================================================================
  # Mobile App Microphone
  # ==========================================================================
  - id: mobile-app
    name: "Mobile App"
    description: "Audio from mobile device microphone (iOS/Android)"
    mode: client

    credentials:
      device_type:
        value: "mobile"
      format:
        value: "pcm_s16le_16khz_mono"
      protocol:
        value: "wyoming"

    config:
      sampling_rate:
        label: "Sampling Rate"
        default: 16000
        options: [8000, 16000, 44100, 48000]
      channels:
        label: "Channels"
        default: 1
        options: [1, 2]
      bit_depth:
        label: "Bit Depth"
        default: 16
        options: [16, 24, 32]

    ui:
      icon: phone
      tags: ["audio", "mobile", "mic", "client"]

  # ==========================================================================
  # Omi Device (Bluetooth Audio)
  # ==========================================================================
  - id: omi-device
    name: "Omi Device"
    description: "Omi wearable audio recording device via Bluetooth"
    mode: client

    credentials:
      device_type:
        value: "omi"
      format:
        value: "pcm_s16le_16khz_mono"
      protocol:
        value: "wyoming"

    config:
      codec:
        label: "Bluetooth Codec"
        description: "Codec used for Bluetooth transmission"
        default: "opus"
        options: ["opus", "aac", "sbc"]

    ui:
      icon: bluetooth
      tags: ["audio", "omi", "bluetooth", "wearable"]

  # ==========================================================================
  # Desktop Microphone
  # ==========================================================================
  - id: desktop-mic
    name: "Desktop Microphone"
    description: "System microphone on desktop/laptop"
    mode: client

    credentials:
      device_type:
        value: "desktop"
      format:
        value: "pcm_s16le_16khz_mono"
      protocol:
        value: "wyoming"

    config:
      device_id:
        label: "Audio Device"
        description: "Select system audio input device"
        type: select

    ui:
      icon: microphone
      tags: ["audio", "desktop", "mic", "client"]

  # ==========================================================================
  # Audio File Upload
  # ==========================================================================
  - id: audio-file
    name: "Audio File"
    description: "Upload pre-recorded audio files for processing"
    mode: upload

    credentials:
      device_type:
        value: "file"
      format:
        value: "auto"  # Auto-detect from file
      protocol:
        value: "http"  # File upload via HTTP POST

    config:
      supported_formats:
        label: "Supported Formats"
        value: ["wav", "mp3", "m4a", "flac", "ogg", "opus"]

    ui:
      icon: upload
      tags: ["audio", "file", "upload", "batch"]

  # ==========================================================================
  # UNode (Remote Audio Device)
  # ==========================================================================
  - id: unode
    name: "UNode Device"
    description: "Remote audio streaming node (Raspberry Pi, server, etc.)"
    mode: remote

    credentials:
      device_type:
        value: "unode"
      format:
        value: "pcm_s16le_16khz_mono"
      protocol:
        value: "wyoming"

    config:
      device_name:
        label: "Device Name"
        description: "Friendly name for this UNode"
        type: string

    ui:
      icon: server
      tags: ["audio", "unode", "remote", "iot"]

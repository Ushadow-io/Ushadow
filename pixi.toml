[workspace]
authors = ["Stu Alexander <thestumonkey@gmail.com>"]
channels = ["conda-forge"]
name = "purple"
platforms = ["osx-arm64"]
version = "0.1.0"

[tasks]
# Install ushadow backend in editable mode
install-ushadow = "cd ushadow/backend && uv pip install -e . --python $CONDA_PREFIX/bin/python"

# Install robot test dependencies
install-robot = "uv pip install -r robot_tests/requirements.txt --python $CONDA_PREFIX/bin/python"

# Run ush CLI tool
ush = { cmd = "python ush", depends-on = ["install-ushadow"] }

# Run robot tests
robot-test = { cmd = "robot", depends-on = ["install-robot"] }

[dependencies]
python = "3.12.*"
nodejs = ">=25.2.1,<25.3"
rust = ">=1.92.0,<1.93"

# Python packages for ush CLI tool
rich = ">=13.0.0"
httpx = ">=0.27.0"
prompt_toolkit = ">=3.0.0"
pyyaml = ">=6.0.0"

# uv for fast Python package management
uv = ">=0.5.0"
